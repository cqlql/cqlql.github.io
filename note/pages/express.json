{"article":"<section><h1 id=文件上传 data-index=0>文件上传</h1><p><a href=https://www.npmjs.com/package/multer>multer 文档</a></p><p>此处为单文件上传，一次性多次文件待探索</p><pre><code class=lang-js><span class=hljs-keyword>var</span> express = <span class=hljs-built_in>require</span>(<span class=hljs-string>'express'</span>)\n<span class=hljs-keyword>var</span> router = express.Router()\n<span class=hljs-keyword>var</span> multer = <span class=hljs-built_in>require</span>(<span class=hljs-string>'multer'</span>)\n<span class=hljs-keyword>var</span> upload = multer({ <span class=hljs-attr>dest</span>: <span class=hljs-string>'e:/uploads/'</span> })\n\n<span class=hljs-comment>// upload.single('avatar') 这个 avatar 对应 input 的 name 值，如：&lt;input name=\"avatar\" type=\"file\"/&gt;。否则报错</span>\nrouter.post(<span class=hljs-string>'/file'</span>, upload.single(<span class=hljs-string>'file'</span>), <span class=hljs-function><span class=hljs-keyword>function</span> (<span class=hljs-params>req, res</span>) </span>{\n  res.send({\n    <span class=hljs-string>'status'</span>: <span class=hljs-number>200</span>,\n    <span class=hljs-string>'message'</span>: <span class=hljs-string>'ok'</span>,\n    <span class=hljs-string>'result'</span>: {}\n  })\n})\n\n<span class=hljs-built_in>module</span>.exports = router\n</code></pre></section>","menu":"<div class=\"menu-item fold\"><div class=\"item\" data-index=\"0\"><i class=\"hidden\"></i><span class=\"txt\">文件上传</span></div><div class=\"list\"></div></div>"}