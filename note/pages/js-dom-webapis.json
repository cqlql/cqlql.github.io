{"article":"<section><h1 id=\"dataset 标签数据\" data-index=0>dataset 标签数据</h1><section><h2 id=\"js 设置\" data-index=1>js 设置</h2><p>js 设置操作将直接同步到标签上。可直接通过调试工具在标签上看到</p><pre><code><span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>id</span>=<span class=hljs-string>\"item\"</span> <span class=hljs-attr>data-index</span>=<span class=hljs-string>\"1\"</span>&gt;</span><span class=hljs-tag>&lt;/<span class=hljs-name>div</span>&gt;</span>\n\n<span class=hljs-tag>&lt;<span class=hljs-name>script</span>&gt;</span><span class=\"undefined\">\n    item.dataset.index=2;\n</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>&gt;</span>\n</code></pre></section><section><h2 id=\"js 获取\" data-index=2>js 获取</h2><pre><code class=lang-js><span class=hljs-selector-tag>console</span><span class=hljs-selector-class>.log</span>(<span class=hljs-selector-tag>item</span><span class=hljs-selector-class>.dataset</span><span class=hljs-selector-class>.index</span>)\n</code></pre></section><section><h2 id=关于大小写问题 data-index=3>关于大小写问题</h2><p>只能小写获取。也就是说，标签属性名尽量小写。</p><pre><code class=lang-js>document.body = `<span class=hljs-tag>&lt;<span class=hljs-name>a</span> <span class=hljs-attr>href</span>=<span class=hljs-string>\"javascript:;\"</span>  <span class=hljs-attr>data-qNo</span>=<span class=hljs-string>\"' + qNo + '\"</span> <span class=hljs-attr>data-index</span>=<span class=hljs-string>\"' + i + '\"</span>&gt;</span>' + qNo + '1<span class=hljs-tag>&lt;/<span class=hljs-name>a</span>&gt;</span>`\n\nconsole.log(btn.dataset.qno)\n</code></pre></section></section><section><h1 id=h5拖放 data-index=4>h5拖放</h1><p>此处为临时摘抄，未整理验证完善</p><p><a href=https://developer.mozilla.org/en-US/docs/Web/Events/drag>MDN文档参考</a></p><section><h2 id=元素可拖放设置 data-index=5>元素可拖放设置</h2><pre><code class=lang-html><span class=hljs-tag>&lt;<span class=hljs-name>li</span> <span class=hljs-attr>draggable</span>=<span class=hljs-string>\"true\"</span>&gt;</span><span class=hljs-tag>&lt;<span class=hljs-name>img</span> <span class=hljs-attr>src</span>=<span class=hljs-string>\"1.png\"</span> <span class=hljs-attr>alt</span>=<span class=hljs-string>\"\"</span> <span class=hljs-attr>draggable</span>=<span class=hljs-string>\"false\"</span>&gt;</span><span class=hljs-tag>&lt;<span class=hljs-name>p</span>&gt;</span>小5<span class=hljs-tag>&lt;/<span class=hljs-name>p</span>&gt;</span><span class=hljs-tag>&lt;/<span class=hljs-name>li</span>&gt;</span>\n</code></pre></section><section><h2 id=相关事件： data-index=6>相关事件：</h2><p>dragenter:拖进目标<br>dragleave:拖离目标<br>dragover:<br>目标上拖动<br>只要不离开目标都将反复触发，如果拖动，将触发更快<br>drop:目标上放下</p><p>dragstart：开始拖放 dragend：拖放结束</p><p><strong>event：</strong></p><pre><code class=lang-js><span class=hljs-comment>//设置当前拖放元素的数据参数</span>\ne.dataTransfer.setData(<span class=hljs-string>'text'</span>, <span class=hljs-keyword>this</span>.innerHTML);\n\n<span class=hljs-comment>//获取当前被拖放元素的存放数据参数</span>\n <span class=hljs-keyword>var</span> text = e.dataTransfer.getData(<span class=hljs-string>'text'</span>); \n<span class=hljs-comment>//设置鼠标样式</span>\n e.dataTransfer.dropEffect = <span class=hljs-string>'move'</span>;\n</code></pre></section></section><section><h1 id=\"js 操作 css\" data-index=7>js 操作 css</h1><section><h2 id=\"元素对象的 style 属性\" data-index=8>元素对象的 style 属性</h2><section><h3 id=\"传统方式操作 style\" data-index=9>传统方式操作 style</h3><section><h4 id=兼容性 data-index=10>兼容性</h4><p>包括 ie6 的所有</p></section><section><h4 id=设置 data-index=11>设置</h4><pre><code class=lang-js><span class=hljs-comment>// 比较直接的方式</span>\n<span class=hljs-comment>// 需处理减号风格。使用驼峰</span>\n<span class=hljs-comment>// 1</span>\nelem.style.color = <span class=hljs-string>'red'</span>;\n<span class=hljs-comment>// 2</span>\n<span class=hljs-keyword>var</span> style = elem.style;\nstyle.backgroundColor = <span class=hljs-string>'red'</span>;\n\n<span class=hljs-comment>// 使用 cssText</span>\n<span class=hljs-comment>// 无需处理减号</span>\n<span class=hljs-comment>// 会覆盖之前的，可使用加等</span>\nelem.style.cssText += <span class=hljs-string>'font-size:16px;'</span>;\n</code></pre></section><section><h4 id=获取 data-index=12>获取</h4><p>直接css属性、cssText</p><p>如果没有设置返回 空字符串。 设置了获取，将直接返回设置时的字符串</p></section><section><h4 id=猜想：是否可以直接赋对象？ data-index=13>猜想：是否可以直接赋对象？</h4><p>答案是不行</p><pre><code class=lang-js><span class=hljs-comment>// 错误例子</span>\nelem.style = {\n    <span class=hljs-attr>color</span>: <span class=hljs-string>'red'</span>,\n    <span class=hljs-attr>backgroundColor</span>: <span class=hljs-string>'red'</span>\n}\n</code></pre></section><section><h4 id=前缀问题 data-index=14>前缀问题</h4><pre><code><span class=hljs-selector-tag>style</span><span class=hljs-selector-class>.webkitAnimation</span>\n<span class=hljs-selector-tag>style</span><span class=hljs-selector-class>.MozAnimation</span>\n<span class=hljs-selector-tag>style</span><span class=hljs-selector-class>.msAnimation</span>\n上例中\n<span class=hljs-selector-tag>Webkit</span> 首字母大小写均可\n<span class=hljs-selector-tag>Moz</span> 首字母必须大写\n<span class=hljs-selector-tag>ms</span> 首字母必须小写\n提醒：<span class=hljs-selector-tag>css</span>语法中的属性名称是不区分大小写的，如<span class=hljs-selector-tag>-MOz-columns</span>: 3 200<span class=hljs-selector-tag>px</span>;\n</code></pre></section></section><section><h3 id=\"新方式操作 style\" data-index=15>新方式操作 style</h3><section><h4 id=\"设置 - setProperty\" data-index=16>设置 - setProperty</h4><p>无需处理减号风格</p><p>示例</p><pre><code class=lang-js>elem.style.setProperty(<span class=hljs-string>\"color\"</span>, <span class=hljs-string>\"red\"</span>, <span class=hljs-string>\"important\"</span>);\nelem.style.setProperty(<span class=hljs-string>'background-color'</span>, <span class=hljs-string>'red'</span>);\n</code></pre></section><section><h4 id=\"获取 – getPropertyValue\" data-index=17>获取 – getPropertyValue</h4><p>只能获取内联css，即 style 标签属性内的 css</p><p>没有返回 空字符串</p><pre><code class=lang-js>elem.style.getPropertyValue(<span class=hljs-string>'background-color'</span>) <span class=hljs-comment>// 'rgb(51, 51, 51)'</span>\n</code></pre></section><section><h4 id=\"删除 - removeProperty\" data-index=18>删除 - removeProperty</h4><p>有返回值，返回删除的值</p><pre><code class=lang-html><span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>style</span>=<span class=hljs-string>\"width:10px\"</span> <span class=hljs-attr>id</span>=<span class=hljs-string>\"elem\"</span>&gt;</span><span class=hljs-tag>&lt;/<span class=hljs-name>div</span>&gt;</span>\n<span class=hljs-tag>&lt;<span class=hljs-name>script</span>&gt;</span><span class=javascript>\n<span class=hljs-built_in>console</span>.log(elem.style.removeProperty(<span class=hljs-string>'width'</span>)) <span class=hljs-comment>// '10px'</span>\n</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>&gt;</span>\n</code></pre></section><section><h4 id=\"判断是否使用 important 优先级 - getPropertyPriority\" data-index=19>判断是否使用 important 优先级 - getPropertyPriority</h4><p>返回值：string<br>有，返回 <code>important</code> 字符串; 没有，返回空字符串</p><pre><code class=lang-html><span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>style</span>=<span class=hljs-string>\"width:10px!important;height:20px\"</span> <span class=hljs-attr>id</span>=<span class=hljs-string>\"elem\"</span>&gt;</span><span class=hljs-tag>&lt;/<span class=hljs-name>div</span>&gt;</span>\n<span class=hljs-tag>&lt;<span class=hljs-name>script</span>&gt;</span><span class=javascript>\n  <span class=hljs-built_in>console</span>.log(elem.style.getPropertyPriority(<span class=hljs-string>'width'</span>)) <span class=hljs-comment>// 'important'</span>\n  <span class=hljs-built_in>console</span>.log(elem.style.getPropertyPriority(<span class=hljs-string>'height'</span>)) <span class=hljs-comment>// ''</span>\n</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>&gt;</span>\n</code></pre></section><section><h4 id=\"内联css个数 – length\" data-index=20>内联css个数 – length</h4><pre><code class=lang-html><span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>style</span>=<span class=hljs-string>\"width:10px!important;height:20px\"</span> <span class=hljs-attr>id</span>=<span class=hljs-string>\"elem\"</span>&gt;</span><span class=hljs-tag>&lt;/<span class=hljs-name>div</span>&gt;</span>\n<span class=hljs-tag>&lt;<span class=hljs-name>script</span>&gt;</span><span class=javascript>\n  <span class=hljs-built_in>console</span>.log(elem.style.length) <span class=hljs-comment>// 2</span>\n</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>&gt;</span>\n</code></pre></section><section><h4 id=兼容性 data-index=21>兼容性</h4><p>ie9+、chrome、firefox<br>ie9极不稳定。iphone ios8 似乎不支持，慎用</p></section></section><section><h3 id=\"ie专属，ie6 ~ ie11\" data-index=22>ie专属，ie6 ~ ie11</h3><p>需处理减号分隔符</p><pre><code class=lang-js>el.style.setAttribute(<span class=hljs-string>'backgroundColor'</span>, <span class=hljs-string>'red'</span>);\n</code></pre><p>兼容性： 所有ie。包括ie11</p></section><section><h3 id=可操作索引 data-index=23>可操作索引</h3><pre><code class=lang-js><span class=hljs-built_in>console</span>.log(eTest1.style[<span class=hljs-number>0</span>]);<span class=hljs-comment>// 取第一个内联css属性名称</span>\n</code></pre><p>兼容性：所有</p><p>ie9+ 甚至可以看做数组，可操作length</p></section></section><section><h2 id=\"style 元素\" data-index=24>style 元素</h2><section><h3 id=操作 data-index=25>操作</h3><section><h4 id=\"innerHTML 方式\" data-index=26>innerHTML 方式</h4><p>支持的浏览器：ie9+、Firefox、Safari、Chrome、Opera</p><p>设置读取操作都行。</p><p>直接操作style元素的innerHTML即可。且不需要设置type特性。 当然，动态创建情况，需把style元素增加到文档中才会生效。</p><p>ie678只支持读取，设置操作将报错</p></section><section><h4 id=textContent方式 data-index=27>textContent方式</h4><p>支持的浏览器：ie9+、Firefox、Safari、Chrome、Opera</p><p>跟innerHTML一样，设置读取都行</p><p>ie678压根没这个属性</p></section><section><h4 id=\"styleElem.styleSheet.cssText IE独有方式\" data-index=28>styleElem.styleSheet.cssText IE独有方式</h4><p>解决 ie6~8 兼容问题</p><p><strong>设置</strong></p><pre><code class=lang-js>eStyle.styleSheet.cssText = <span class=hljs-string>'div{color:red}'</span>;\n</code></pre><p><strong>可读取</strong></p><p>可获取任意style标签的值</p><pre><code class=lang-js><span class=hljs-built_in>console</span>.log(<span class=hljs-built_in>document</span>.getElementsByTagName(<span class=hljs-string>'style'</span>)[<span class=hljs-number>0</span>].styleSheet.cssText);\n</code></pre><p><strong>必须设置 type属性，否则不生效</strong><br>而且 eStyle.styleSheet 将获取到 null 值</p><pre><code class=lang-js>eStyle.setAttribute(<span class=hljs-string>\"type\"</span>, <span class=hljs-string>\"text/css\"</span>);<span class=hljs-comment>//此属性不设也生效</span>\n</code></pre><p><strong>兼容性</strong>：<br>ie6~8专用，ie9~10也支持，ie11不支持</p><p><strong>例子：</strong></p><pre><code class=lang-js><span class=hljs-keyword>var</span> eStyle = <span class=hljs-built_in>document</span>.createElement(<span class=hljs-string>'style'</span>);\neStyle.setAttribute(<span class=hljs-string>\"type\"</span>, <span class=hljs-string>\"text/css\"</span>);<span class=hljs-comment>// 必须设置</span>\neStyle.styleSheet.cssText = <span class=hljs-string>'#test{color:red;}'</span>;\n<span class=hljs-built_in>document</span>.getElementsByTagName(<span class=hljs-string>'head'</span>)[<span class=hljs-number>0</span>].appendChild(eStyle);\n</code></pre></section><section><h4 id=兼容所有示例 data-index=29>兼容所有示例</h4><pre><code class=lang-js><span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>addCssText</span> (<span class=hljs-params>txt</span>) </span>{\n  <span class=hljs-keyword>let</span> eStyle = <span class=hljs-built_in>document</span>.createElement(<span class=hljs-string>'style'</span>)\n\n  <span class=hljs-keyword>if</span> (<span class=hljs-string>'textContent'</span> <span class=hljs-keyword>in</span> eStyle) {\n    eStyle.textContent = txt\n    <span class=hljs-built_in>document</span>.head.appendChild(eStyle)\n  } <span class=hljs-keyword>else</span> {\n    <span class=hljs-comment>// ie678</span>\n    eStyle.setAttribute(<span class=hljs-string>'type'</span>, <span class=hljs-string>'text/css'</span>)\n    eStyle.styleSheet.cssText = txt\n    <span class=hljs-built_in>document</span>.body.appendChild(eStyle)\n  }\n}\n</code></pre></section></section><section><h3 id=动态创建注意 data-index=30>动态创建注意</h3><section><h4 id=位置 data-index=31>位置</h4><p>js创建的style元素可增加到任意位置，body，head 等都将生效，建议增加到head标签</p><p>所有浏览器都如此</p></section><section><h4 id=生效 data-index=32>生效</h4><p>需增加到文档中 所有浏览器都如此</p></section></section><section><h3 id=\"关于 jq 的 html 方法\" data-index=33>关于 jq 的 html 方法</h3><p>并非简单的 innerHTML。对 style 有特别处理，使其生效。(会将style元素插入head中的)</p></section></section></section><section><h1 id=事件 data-index=34>事件</h1><p><a href=https://developer.mozilla.org/zh-CN/docs/Web/Events>事件类型一览表</a></p><section><h2 id=\"dispatchEvent 手动触发事件\" data-index=35>dispatchEvent 手动触发事件</h2><p>至今才知道。。。再一次证明，书看的少多可怕</p></section><section><h2 id=阻止冒泡 data-index=36>阻止冒泡</h2><pre><code class=lang-js><span class=hljs-selector-tag>e</span><span class=hljs-selector-class>.stopPropagation</span>()\n</code></pre></section><section><h2 id=阻止默认动作 data-index=37>阻止默认动作</h2><pre><code class=lang-js><span class=hljs-keyword>if</span> (e.cancelable) e.preventDefault() <span class=hljs-comment>//cancelable、preventDefault结合使用</span>\n</code></pre></section><section><h2 id=事件类型 data-index=38>事件类型</h2><section><h3 id=移入事件 data-index=39>移入事件</h3><pre><code class=lang-js><span class=hljs-comment>//1、正常的 移入移出 事件：onmouseover移入、onmouseout移出】</span>\n<span class=hljs-comment>//兼容性：all浏览器</span>\n\n<span class=hljs-comment>/* ----------------------------------------------\n * 事件中特有属性——relatedTarget属性\n *\n *获取 触发事件 后 鼠标\n* 之前所处 元素对象——onmouseover移入事件\n *当前所处 元素对象——onmouseout移出事件\n *\n * event对象的属性，只对这两个事件有效：onmouseout移出事件、onmouseover移入事件  \n*\n * 兼容性： 所有ie中 只有ie9支持。非ie浏览器没问题\n */</span>\nalert(e.relatedTarget.className);\n\n<span class=hljs-comment>/***********************************************************/</span>\n<span class=hljs-comment>//2、特殊的 移入移出 事件</span>\n<span class=hljs-comment>//【onmouseenter移入、onmouseleave移出】 </span>\n<span class=hljs-comment>//事件 根元素 及其后代 看成一个整体 来触发此事件</span>\n<span class=hljs-comment>//兼容性：所有ie，Opera支持。fox、Chrome现在已经支持了</span>\n</code></pre></section><section><h3 id=键盘输入事件 data-index=40>键盘输入事件</h3><section><h4 id=\"keypress 字符键触发\" data-index=41>keypress 字符键触发</h4><ul><li>先触发后输入</li><li>可以阻止输入触发</li></ul><p>问题：</p><ul><li>删除键，这种能改变字符串的不触发</li><li>使用中文输入法输入时也不触发</li></ul><p>是否是先触发后输入？ 兼容性如何？</p><p>不建议当做input事件触发前的监听事件：</p></section><section><h4 id=\"input 有字符输入则触发\" data-index=42>input 有字符输入则触发</h4><p>实现输入字符 后触发 改变后触发，即输入发生后触发</p><p><strong>1.Firefox、Safari、Chrome</strong> 除了input、textarea，还适用于div文本框。所有符号键 （包括删除键）</p><p>div文本框 添加元素居然不触发，手动添加文本是否也不会触发呢</p><pre><code class=lang-js>Text1.oninput = <span class=hljs-function><span class=hljs-keyword>function</span> (<span class=hljs-params>e</span>) </span>{\n    alert(<span class=hljs-string>''</span>);\n    <span class=hljs-built_in>console</span>.log(<span class=hljs-number>1</span>);\n};\n</code></pre><p><strong>2.IE</strong> 只适用于固有的input、textarea 输入框</p><p>ie6 ie7 ie8 ie10 值变动就会触发</p><p>ie9字符键触发，删除键不会触发</p><pre><code class=lang-js>Text1.onpropertychange = <span class=hljs-function><span class=hljs-keyword>function</span> (<span class=hljs-params>e</span>) </span>{\n    alert(<span class=hljs-string>''</span>);\n    <span class=hljs-built_in>console</span>.log(<span class=hljs-number>1</span>);\n};\n</code></pre><p><strong>3.Opera</strong> 没有</p></section></section><section><h3 id=\"touch 触摸事件\" data-index=43>touch 触摸事件</h3><section><h4 id=特性 data-index=44>特性</h4><p><strong>多点 touch，元素外的点也会增加 TouchList：</strong><br>touch 事件元素外增加触摸点，不会触发touch事件，但是原事件的TouchList 会多一个。</p></section></section></section><section><h2 id=设备旋转事件 data-index=45>设备旋转事件</h2><p>chrome 模拟的是旋转前触发</p><p>android 机未测</p><p>ios 11 旋转后触发，可获取真实的浏览器宽度</p><pre><code class=lang-js><span class=hljs-built_in>window</span>.addEventListener(<span class=hljs-string>\"orientationchange\"</span>, <span class=hljs-function><span class=hljs-keyword>function</span> (<span class=hljs-params></span>) </span>{\n  <span class=hljs-comment>// screen.orientation ios 11 不支持</span>\n  <span class=hljs-built_in>document</span>.body.innerHTML = (screen.orientation.angle + <span class=hljs-string>'--'</span> + <span class=hljs-built_in>window</span>.innerWidth);\n})\n</code></pre></section><section><h2 id=\"resize 窗口变化事件\" data-index=46>resize 窗口变化事件</h2><p>ios 旋转有动画，resize是否能获取真实浏览器宽？</p><p>ios 11 可以，也就是说旋转后触发。动画前触发。动画不影响宽度获取，估计动画是假象，动画前就已经渲染完成</p><p>印象中之前某次测试的是旋转前，难道是修复了？？</p></section><section><h2 id=问题 data-index=47>问题</h2><section><h3 id=\"移动端(android) touchend 中 focus() 获焦失败\" data-index=48>移动端(android) touchend 中 focus() 获焦失败</h3><pre><code class=lang-js>el.addEventListener(<span class=hljs-string>\"touchend\"</span>, <span class=hljs-function><span class=hljs-keyword>function</span> (<span class=hljs-params>e</span>) </span>{\n  e.stopPropagation() <span class=hljs-comment>// 要让获焦成功，android 必须加这个</span>\n  ipt.focus()\n})\n</code></pre><p>android 在 touchend 后有默认动作触发，如果在 touchend 中通过 focus 使某文本框获焦，会立马失焦。ios 没此问题</p></section></section></section><section><h1 id=元素增删改查 data-index=49>元素增删改查</h1><section><h2 id=元素替换 data-index=50>元素替换</h2><section><h3 id=子节点替换 data-index=51>子节点替换</h3><p><a href=https://developer.mozilla.org/zh-CN/docs/Web/API/Node/replaceChild>replaceChild 文档</a></p><section><h4 id=语法 data-index=52>语法</h4><p>replacedNode = parentNode.replaceChild(newChild, oldChild);</p><p>replacedNode 和oldChild相等。</p></section><section><h4 id=例子 data-index=53>例子</h4><pre><code class=lang-js><span class=hljs-selector-tag>elemCont</span><span class=hljs-selector-class>.replaceChild</span>(<span class=hljs-selector-tag>elzBox</span>, <span class=hljs-selector-tag>elemCont</span><span class=hljs-selector-class>.firstElementChild</span>)\n</code></pre></section><section><h4 id=兼容性 data-index=54>兼容性</h4><p>ie6+</p></section></section></section><section><h2 id=元素获取 data-index=55>元素获取</h2><section><h3 id=简单汇总 data-index=56>简单汇总</h3><pre>\ngetElementById,\ngetElementsByName,\ngetElementsByTagName\ngetElementsByClassName\nquerySelector\nquerySelectorAll\n\n其中 \nquerySelector\nquerySelectorAll\n实现模拟 css选择器。ie8(含)以上 及其他高级\n可以document直接调用，也可元素调用，元素调用则在所有后代中赛选\n\n\nhttp://www.cnblogs.com/kissdodog/archive/2012/12/25/2833213.html\n\n1、firstElementChild        第一个子元素节点\n2、lastElementChild        最后一个子元素节点\n3、nextElementSibling        下一个兄弟元素节点 ie9+\n4、previousElementSibling    前一个兄弟元素节点ie9+\n5、childElementCount        子元素节点个数量\n\n</pre></section><section><h3 id=\"根据 id 取\" data-index=57>根据 id 取</h3><p>取不到情况返回 null</p><pre><code class=lang-html><span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>id</span>=<span class=hljs-string>\"test2\"</span>&gt;</span><span class=hljs-tag>&lt;/<span class=hljs-name>div</span>&gt;</span>\n<span class=hljs-tag>&lt;<span class=hljs-name>script</span>&gt;</span><span class=javascript>\n<span class=hljs-comment>// 兼容性：all浏览器</span>\n\n<span class=hljs-comment>// 直接取。即直接通过id名获取</span>\ntest2.innerHTML = <span class=hljs-string>'hello word'</span>;\n\n<span class=hljs-comment>// 通过 document.getElementById(idname)</span>\n<span class=hljs-built_in>console</span>.log(<span class=hljs-built_in>document</span>.getElementById(<span class=hljs-string>\"test2\"</span>) === test2) <span class=hljs-comment>// true</span>\n</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>&gt;</span>\n</code></pre></section><section><h3 id=\"子元素集合 children\" data-index=58>子元素集合 children</h3><p>兼容性：所有浏览器都支持。只是ie6注释节点也被获取到了</p><p><strong>返回 HTMLCollection 对象。拥有实时特性</strong><br>元素被移走后，children值会实时改变，并不区分是否在文档中。ie6也支持此特性</p><pre><code class=lang-js><span class=hljs-comment>// 1在页面文档中的例子:</span>\n<span class=hljs-keyword>var</span> chils = <span class=hljs-built_in>document</span>.body.children;\n<span class=hljs-built_in>document</span>.body.appendChild(<span class=hljs-built_in>document</span>.createElement(<span class=hljs-string>'s'</span>));<span class=hljs-comment>// 先更改</span>\ninfo.innerHTML = chils.length;<span class=hljs-comment>// 后取。依然最新</span>\n\n<span class=hljs-comment>// 2不在页面文档中的例子:</span>\n<span class=hljs-keyword>var</span> el = <span class=hljs-built_in>document</span>.createElement(<span class=hljs-string>'div'</span>),\n    chils = el.children;\nchils = el.children;\n<span class=hljs-keyword>for</span> (<span class=hljs-keyword>var</span> i = <span class=hljs-number>0</span>; i &lt; <span class=hljs-number>5</span>; i++) {\n    el.appendChild(<span class=hljs-built_in>document</span>.createElement(<span class=hljs-string>'div'</span>));\n}\n<span class=hljs-built_in>console</span>.log(chils.length) <span class=hljs-comment>// 依然最新</span>\n</code></pre></section><section><h3 id=紧邻元素获取 data-index=59>紧邻元素获取</h3><p>其他关键字：相邻元素</p><p>上一个</p><pre><code class=lang-js>elem.previousElementSibling <span class=hljs-comment>// 元素 ie9+</span>\nelem.previousSibling <span class=hljs-comment>// 节点 ie6+</span>\n</code></pre><p>下一个</p><pre><code class=lang-js>elem.nextElementSibling <span class=hljs-comment>// 元素 ie9+</span>\nelem.nextSibling <span class=hljs-comment>// 节点 ie6+</span>\n</code></pre><p>chrome、firefox 也是支持的</p></section><section><h3 id=第一个子元素 data-index=60>第一个子元素</h3><p><a href=https://developer.mozilla.org/zh-CN/docs/Web/API/ParentNode/firstElementChild>firstElementChild 文档</a></p><p>语法<br>var element = node.firstElementChild;</p><p>例子</p><pre><code class=lang-html><span class=hljs-tag>&lt;<span class=hljs-name>ul</span> <span class=hljs-attr>id</span>=<span class=hljs-string>\"foo\"</span>&gt;</span>\n  <span class=hljs-tag>&lt;<span class=hljs-name>li</span>&gt;</span>First  (1)<span class=hljs-tag>&lt;/<span class=hljs-name>li</span>&gt;</span>\n  <span class=hljs-tag>&lt;<span class=hljs-name>li</span>&gt;</span>Second (2)<span class=hljs-tag>&lt;/<span class=hljs-name>li</span>&gt;</span>\n  <span class=hljs-tag>&lt;<span class=hljs-name>li</span>&gt;</span>Third  (3)<span class=hljs-tag>&lt;/<span class=hljs-name>li</span>&gt;</span>\n<span class=hljs-tag>&lt;/<span class=hljs-name>ul</span>&gt;</span>\n\n<span class=hljs-tag>&lt;<span class=hljs-name>script</span>&gt;</span><span class=javascript>\n<span class=hljs-keyword>var</span> foo = <span class=hljs-built_in>document</span>.getElementById(<span class=hljs-string>'foo'</span>);\n<span class=hljs-comment>// yields: First  (1)</span>\n<span class=hljs-built_in>console</span>.log(foo.firstElementChild.textContent);\n</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>&gt;</span>\n</code></pre><p>兼容性：ie9+</p></section><section><h3 id=事件元素 data-index=61>事件元素</h3><section><h4 id=事件根元素 data-index=62>事件根元素</h4><p>即正真拥有此事件的 对象。通过 <strong>this</strong> 获取。<br>如果要讲的更贴切一点，this获取的是执行此事件的对象</p></section><section><h4 id=当前事件元素 data-index=63>当前事件元素</h4><p>1、event.target 属性<br>兼容性：ie中 只有ie9支持，其他浏览器没问题</p><p>2、event.srcElement 属性<br>兼容性：fox 不支持。其他没问题</p></section></section><section><h3 id=实时改变特性 data-index=64>实时改变特性</h3><p><strong>原生获取的 HTMLCollection 集合对象都具有实时改变特性</strong>。<br>即转移或者删除某元素，其存在的HTMLCollection集合对象会实时改变。children 属性获取的就是 HTMLCollection 。</p><p>兼容性：包括ie6的所有</p><pre><code class=lang-js><span class=hljs-keyword>var</span> eDiv = <span class=hljs-built_in>document</span>.getElementById(<span class=hljs-string>'test'</span>).getElementsByTagName(<span class=hljs-string>'div'</span>);\n\n<span class=hljs-built_in>console</span>.log(eDiv.length); <span class=hljs-comment>// 2</span>\n\n<span class=hljs-built_in>document</span>.body.appendChild(eDiv[<span class=hljs-number>0</span>]);\n\n<span class=hljs-built_in>console</span>.log(eDiv.length); <span class=hljs-comment>// 1</span>\n</code></pre></section><section><h3 id=\"根据元素取 document 对象\" data-index=65>根据元素取 document 对象</h3><pre><code class=lang-js><span class=hljs-built_in>console</span>.log(<span class=hljs-built_in>document</span>.body.ownerDocument === <span class=hljs-built_in>document</span>) <span class=hljs-comment>// true</span>\n</code></pre></section><section><h3 id=一些疑虑 data-index=66>一些疑虑</h3><p>display:none 元素的获取 纯属多虑，没区别，所有浏览器都是如此</p></section></section></section><section><h1 id=坐标 data-index=67>坐标</h1><section><h2 id=元素坐标 data-index=68>元素坐标</h2><section><h3 id=相对定位元素 data-index=69>相对定位元素</h3><p>offsetLeft offsetTop</p><p>取 相对于 定位父元素</p><p>td tr 等特殊元素 可能会是参照物</p></section></section></section><section><h1 id=打印机 data-index=70>打印机</h1><p>调用打印 window.print()</p></section><section><h1 id=浏览器 data-index=71>浏览器</h1><section><h2 id=手动刷新 data-index=72>手动刷新</h2><p>之前都是 <code>location.href=&quot;&quot;</code>，其实有直接的方法</p><pre><code class=lang-js><span class=hljs-selector-tag>location</span><span class=hljs-selector-class>.reload</span>()\n</code></pre></section></section><section><h1 id=\"设备像素比 window.devicePixelRatio\" data-index=73>设备像素比 window.devicePixelRatio</h1><p>如果是2，则是 1个像素点放了1/2像素的内容。 即 2个物理分辨率 = 1个逻辑分辨率</p><p>canvas 画图模糊情况使用</p></section>","menu":"<div class=\"menu-item fold\"><div class=\"item\" data-index=\"0\"><i class=\"\"></i><span class=\"txt\">dataset 标签数据</span></div><div class=\"list\"><div class=\"menu-item fold\"><div class=\"item\" data-index=\"1\"><i class=\"hidden\"></i><span class=\"txt\">js 设置</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"2\"><i class=\"hidden\"></i><span class=\"txt\">js 获取</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"3\"><i class=\"hidden\"></i><span class=\"txt\">关于大小写问题</span></div><div class=\"list\"></div></div></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"4\"><i class=\"\"></i><span class=\"txt\">h5拖放</span></div><div class=\"list\"><div class=\"menu-item fold\"><div class=\"item\" data-index=\"5\"><i class=\"hidden\"></i><span class=\"txt\">元素可拖放设置</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"6\"><i class=\"hidden\"></i><span class=\"txt\">相关事件：</span></div><div class=\"list\"></div></div></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"7\"><i class=\"\"></i><span class=\"txt\">js 操作 css</span></div><div class=\"list\"><div class=\"menu-item fold\"><div class=\"item\" data-index=\"8\"><i class=\"\"></i><span class=\"txt\">元素对象的 style 属性</span></div><div class=\"list\"><div class=\"menu-item fold\"><div class=\"item\" data-index=\"9\"><i class=\"\"></i><span class=\"txt\">传统方式操作 style</span></div><div class=\"list\"><div class=\"menu-item fold\"><div class=\"item\" data-index=\"10\"><i class=\"hidden\"></i><span class=\"txt\">兼容性</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"11\"><i class=\"hidden\"></i><span class=\"txt\">设置</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"12\"><i class=\"hidden\"></i><span class=\"txt\">获取</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"13\"><i class=\"hidden\"></i><span class=\"txt\">猜想：是否可以直接赋对象？</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"14\"><i class=\"hidden\"></i><span class=\"txt\">前缀问题</span></div><div class=\"list\"></div></div></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"15\"><i class=\"\"></i><span class=\"txt\">新方式操作 style</span></div><div class=\"list\"><div class=\"menu-item fold\"><div class=\"item\" data-index=\"16\"><i class=\"hidden\"></i><span class=\"txt\">设置 - setProperty</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"17\"><i class=\"hidden\"></i><span class=\"txt\">获取 – getPropertyValue</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"18\"><i class=\"hidden\"></i><span class=\"txt\">删除 - removeProperty</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"19\"><i class=\"hidden\"></i><span class=\"txt\">判断是否使用 important 优先级 - getPropertyPriority</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"20\"><i class=\"hidden\"></i><span class=\"txt\">内联css个数 – length</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"21\"><i class=\"hidden\"></i><span class=\"txt\">兼容性</span></div><div class=\"list\"></div></div></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"22\"><i class=\"hidden\"></i><span class=\"txt\">ie专属，ie6 ~ ie11</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"23\"><i class=\"hidden\"></i><span class=\"txt\">可操作索引</span></div><div class=\"list\"></div></div></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"24\"><i class=\"\"></i><span class=\"txt\">style 元素</span></div><div class=\"list\"><div class=\"menu-item fold\"><div class=\"item\" data-index=\"25\"><i class=\"\"></i><span class=\"txt\">操作</span></div><div class=\"list\"><div class=\"menu-item fold\"><div class=\"item\" data-index=\"26\"><i class=\"hidden\"></i><span class=\"txt\">innerHTML 方式</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"27\"><i class=\"hidden\"></i><span class=\"txt\">textContent方式</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"28\"><i class=\"hidden\"></i><span class=\"txt\">styleElem.styleSheet.cssText IE独有方式</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"29\"><i class=\"hidden\"></i><span class=\"txt\">兼容所有示例</span></div><div class=\"list\"></div></div></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"30\"><i class=\"\"></i><span class=\"txt\">动态创建注意</span></div><div class=\"list\"><div class=\"menu-item fold\"><div class=\"item\" data-index=\"31\"><i class=\"hidden\"></i><span class=\"txt\">位置</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"32\"><i class=\"hidden\"></i><span class=\"txt\">生效</span></div><div class=\"list\"></div></div></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"33\"><i class=\"hidden\"></i><span class=\"txt\">关于 jq 的 html 方法</span></div><div class=\"list\"></div></div></div></div></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"34\"><i class=\"\"></i><span class=\"txt\">事件</span></div><div class=\"list\"><div class=\"menu-item fold\"><div class=\"item\" data-index=\"35\"><i class=\"hidden\"></i><span class=\"txt\">dispatchEvent 手动触发事件</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"36\"><i class=\"hidden\"></i><span class=\"txt\">阻止冒泡</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"37\"><i class=\"hidden\"></i><span class=\"txt\">阻止默认动作</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"38\"><i class=\"\"></i><span class=\"txt\">事件类型</span></div><div class=\"list\"><div class=\"menu-item fold\"><div class=\"item\" data-index=\"39\"><i class=\"hidden\"></i><span class=\"txt\">移入事件</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"40\"><i class=\"\"></i><span class=\"txt\">键盘输入事件</span></div><div class=\"list\"><div class=\"menu-item fold\"><div class=\"item\" data-index=\"41\"><i class=\"hidden\"></i><span class=\"txt\">keypress 字符键触发</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"42\"><i class=\"hidden\"></i><span class=\"txt\">input 有字符输入则触发</span></div><div class=\"list\"></div></div></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"43\"><i class=\"\"></i><span class=\"txt\">touch 触摸事件</span></div><div class=\"list\"><div class=\"menu-item fold\"><div class=\"item\" data-index=\"44\"><i class=\"hidden\"></i><span class=\"txt\">特性</span></div><div class=\"list\"></div></div></div></div></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"45\"><i class=\"hidden\"></i><span class=\"txt\">设备旋转事件</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"46\"><i class=\"hidden\"></i><span class=\"txt\">resize 窗口变化事件</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"47\"><i class=\"\"></i><span class=\"txt\">问题</span></div><div class=\"list\"><div class=\"menu-item fold\"><div class=\"item\" data-index=\"48\"><i class=\"hidden\"></i><span class=\"txt\">移动端(android) touchend 中 focus() 获焦失败</span></div><div class=\"list\"></div></div></div></div></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"49\"><i class=\"\"></i><span class=\"txt\">元素增删改查</span></div><div class=\"list\"><div class=\"menu-item fold\"><div class=\"item\" data-index=\"50\"><i class=\"\"></i><span class=\"txt\">元素替换</span></div><div class=\"list\"><div class=\"menu-item fold\"><div class=\"item\" data-index=\"51\"><i class=\"\"></i><span class=\"txt\">子节点替换</span></div><div class=\"list\"><div class=\"menu-item fold\"><div class=\"item\" data-index=\"52\"><i class=\"hidden\"></i><span class=\"txt\">语法</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"53\"><i class=\"hidden\"></i><span class=\"txt\">例子</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"54\"><i class=\"hidden\"></i><span class=\"txt\">兼容性</span></div><div class=\"list\"></div></div></div></div></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"55\"><i class=\"\"></i><span class=\"txt\">元素获取</span></div><div class=\"list\"><div class=\"menu-item fold\"><div class=\"item\" data-index=\"56\"><i class=\"hidden\"></i><span class=\"txt\">简单汇总</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"57\"><i class=\"hidden\"></i><span class=\"txt\">根据 id 取</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"58\"><i class=\"hidden\"></i><span class=\"txt\">子元素集合 children</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"59\"><i class=\"hidden\"></i><span class=\"txt\">紧邻元素获取</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"60\"><i class=\"hidden\"></i><span class=\"txt\">第一个子元素</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"61\"><i class=\"\"></i><span class=\"txt\">事件元素</span></div><div class=\"list\"><div class=\"menu-item fold\"><div class=\"item\" data-index=\"62\"><i class=\"hidden\"></i><span class=\"txt\">事件根元素</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"63\"><i class=\"hidden\"></i><span class=\"txt\">当前事件元素</span></div><div class=\"list\"></div></div></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"64\"><i class=\"hidden\"></i><span class=\"txt\">实时改变特性</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"65\"><i class=\"hidden\"></i><span class=\"txt\">根据元素取 document 对象</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"66\"><i class=\"hidden\"></i><span class=\"txt\">一些疑虑</span></div><div class=\"list\"></div></div></div></div></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"67\"><i class=\"\"></i><span class=\"txt\">坐标</span></div><div class=\"list\"><div class=\"menu-item fold\"><div class=\"item\" data-index=\"68\"><i class=\"\"></i><span class=\"txt\">元素坐标</span></div><div class=\"list\"><div class=\"menu-item fold\"><div class=\"item\" data-index=\"69\"><i class=\"hidden\"></i><span class=\"txt\">相对定位元素</span></div><div class=\"list\"></div></div></div></div></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"70\"><i class=\"hidden\"></i><span class=\"txt\">打印机</span></div><div class=\"list\"></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"71\"><i class=\"\"></i><span class=\"txt\">浏览器</span></div><div class=\"list\"><div class=\"menu-item fold\"><div class=\"item\" data-index=\"72\"><i class=\"hidden\"></i><span class=\"txt\">手动刷新</span></div><div class=\"list\"></div></div></div></div><div class=\"menu-item fold\"><div class=\"item\" data-index=\"73\"><i class=\"hidden\"></i><span class=\"txt\">设备像素比 window.devicePixelRatio</span></div><div class=\"list\"></div></div>"}