<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1.0,minimum-scale=1.0">
    <!--<meta http-equiv="X-UA-Compatible" content="ie=edge">-->
    <title>电子班牌</title>
    <link rel="stylesheet" href="css/main.css">


</head>
<body>

<div class="message-page s1">

    <div class="header">

        <div class="wt-date-time" v-cloak>
            <div class="wt">
                <div class="ico"></div>
                <div class="wd">{{weatherName}}</div>

            </div>
            <div class="date">
                <div class="big">{{month}}月{{date}}日</div>
                <div class="other">{{year}}年 {{ly}}年 周{{'天一二三四五六'[day]}}</div>
            </div>

            <div class="time">{{hours+':'+minutes}}</div>

        </div>

    </div>

    <div class="msg-cont">
        <div class="m-c">
            <p>这是啥？？</p>
            人之初，性本善，性相近，习相远。

            苟不教，性乃迁，教之道，贵以专。 　　

            昔孟母，择邻处，子不学，断机杼。

            窦燕山，有义方，教五子，名俱扬。 　　

            养不教，父之过，教不严，师之惰。

      　　
        </div>


    </div>


    <div class="bottom-message-bar">紧急通知：请各位班主任带领各自班级下课后到操场集合，请有序入场，不要抢</div>

</div>


<script src="../../js/libr/vue.js"></script>
<script src="js/common.js"></script>
<script src="js/main.js"></script>

<script>
    var eBox = document.querySelector('.msg-cont'),
        eText = eBox.children[0];

    textMarquee({
        eBox: eBox,
        eText: eText
    });

    function textMarquee(params) {
        var eBox = params.eBox,
            eText = params.eText,

            // 每秒滚动的像素
            perSecMove=420,

            // 2段文字的间距（与后面的重复文字间距）
            interval = 100,

            // 高
            textH=eText.offsetHeight;

        if (textH > eBox.clientHeight) {

            eText.style.paddingBottom = interval +'px';

            textH=eText.offsetHeight;

            var html = eBox.innerHTML.trim(),
                moveId='move'+Date.now();

            eBox.innerHTML = '<div class="'+moveId+'">' + html + html + '</div>';

            // css
            var duration= (textH / perSecMove).toFixed(2);// 每秒滚动20px。计算需要多少秒
            var eStyle = document.createElement('style');
            eStyle.textContent = '.'+moveId+' {\
-webkit-animation:'+moveId+' ' + duration + 's infinite linear normal;\
animation:'+moveId+' ' + duration + 's infinite linear normal;\
}\
@keyframes '+moveId+'{0%{\
transform:translate3d(0,0,0);}100%{\
transform:translate3d(0,-' + textH + 'px,0);}}\
@-webkit-keyframes a{0%{\
-webkit-transform:translate3d(0,0,0);}100%{\
-webkit-transform:translate3d(0,-' + textH + 'px,0);}}';
            document.body.appendChild(eStyle);

        }
    }
</script>

</body>
</html>