<!DOCTYPE html><html><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=no"><title>分块饼图统计</title><style type=text/css>body{margin:0;overflow:hidden}</style></head><body><div class=chart-pie></div><script type=text/javascript>!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}({0:function(e,t,n){n("lVK74Cj"),e.exports=n("JPVG8cg")},JPVG8cg:function(e,t,n){"use strict";transmitData([{dimension_id:"12",dimension_name:"教学目标",score:"80",weight:25},{dimension_id:"36",dimension_name:"教学行为",score:"100",weight:25},{dimension_id:"60",dimension_name:"学习方式",score:"0",weight:25},{dimension_id:"70",dimension_name:"教学效果",score:"0",weight:25}])},PBFnj32:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.ox,n=e.oy,r=e.r,i=e.sRad,f=e.rad;r<0&&(r=0);var d=(0,a.default)(i,r,t,n);return"M"+t+" "+n+" L"+d.x+" "+d.y+" "+(0,o.default)({sRad:i,rad:f,r:r,ox:t,oy:n})+" Z"};var a=r(n("Vyn097T")),o=r(n("Xwm5Urx"))},Vyn097T:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){return{x:Math.cos(e)*t+n,y:Math.sin(e)*t+r}}},Xwm5Urx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.sRad,n=void 0===t?0:t,a=e.rad,o=e.r,i=void 0===o?50:o,f=e.ox,d=e.oy,u=n+a,s=(0,r.default)(u,i,f,d),c=s.x,l=s.y;return u===2*Math.PI&&(c-=.001),"A "+i+" "+i+", 0, "+(u-n>Math.PI?1:0)+", 1, "+c+" "+l};var r=function(e){return e&&e.__esModule?e:{default:e}}(n("Vyn097T"))},cilBaiY:function(e,t){},lVK74Cj:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.data,n=e.eachData,r=e.labels,a=e.tscore,f=["#fff1e7","#fff5e1","#ffefef","#f1f5ff","#edf7ff"],d=["#ffbb87","#ffc966","#ffa9ab","#bbc7ff","#a3d1ff"],u=["#f96902","#ffad14","#ff4b4b","#5980ff","#5bacfe"],s=Math.PI/180*-120,c="",l="",h="";t.forEach(function(e,t){var a=e*Math.PI*2;c+='<path d="'+(0,i.default)({ox:100,oy:60,r:45,sRad:s,rad:a})+'"\nfill="'+f[t%5]+'"\n></path>';var x=42*n[t]+1.5;c+='<path d="'+(0,i.default)({ox:100,oy:60,r:x,sRad:s,rad:a})+'"\nfill="'+d[t%5]+'"\n></path>',c+='<path d="'+(0,i.default)({ox:100,oy:60,r:45,sRad:s,rad:a})+'"\nfill="transparent"\nstroke="#fff" stroke-width="1"\n></path>';var p=s+a/2,y=3,v=1;180/Math.PI*p+90>180&&(y=-y,v=-v);var _=x/1.2,m=(0,o.default)(p,_>1.5?_:1.5,100,60),b=m.x,M=m.y,w=(0,o.default)(p,47.5,100,60),P=w.x,g=w.y,j=P+y,V=g;h+='<polyline points="'+b+","+M+" "+P+","+g+" "+j+","+V+'"\nfill="none"\nstroke="'+u[t%5]+'"\nstroke-width="0.5"\n></polyline>',l+='<text x="'+(j+v)+'" y="'+(V+2)+'" font-size="6.5" text-anchor="'+(y>0?"start":"end")+'" fill="'+u[t%5]+'">'+r[t]+"</text>",s+=a}),l+='<text x="100" y="63" font-size="6.5" text-anchor="middle" fill="#333" style="font-weight:bold;">'+a+"分</text>",document.querySelector(".chart-pie").innerHTML='<svg viewbox="0,0,200,120">\n'+c+'\n<circle cx="100" cy="60" r="45" stroke="#e5e5e5" fill="transparent" stroke-width="1.5"/>\n'+h+"\n"+l+"</svg>"}n("cilBaiY");var o=r(n("Vyn097T")),i=r(n("PBFnj32"));window.transmitData=function(e){var t=[],n=[],r=[],o=0;e.forEach(function(e){var a=e.weight,i=e.score,f=e.dimension_name,d=a/100,u=void 0;(i*=1)<0?(u=f+":未评价",i=0):u=f+":"+1*(i*d).toFixed(1)+"分",t.push(d),r.push(u),n.push(i/100),o+=i*d}),a({data:t,eachData:n,labels:r,tscore:1*o.toFixed(1)})}}})</script></body></html>