<!DOCTYPE html><html><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=no"><title>分块饼图统计</title><style type=text/css>body{margin:0;overflow:hidden}</style></head><body><div class=chart-pie></div><script type=text/javascript>!function(t){function e(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,n){"use strict";function o(t,e,n,o){return{x:Math.cos(t)*e+n,y:Math.sin(t)*e+o}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},function(t,e,n){n(2),t.exports=n(6)},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function a(t){var e=t.data,n=t.eachData,o=t.labels,a=t.tscore,f=["#fff1e7","#fff5e1","#ffefef","#f1f5ff","#edf7ff"],i=["#ffbb87","#ffc966","#ffa9ab","#bbc7ff","#a3d1ff"],d=["#f96902","#ffad14","#ff4b4b","#5980ff","#5bacfe"],s=Math.PI/180*-120,l="",c="";e.forEach(function(t,e){var a=t*Math.PI*2;l+='<path d="'+(0,u.default)({ox:100,oy:60,r:46,sRad:s,rad:a,oft:1})+'"\nfill="'+f[e%5]+'"\n></path>';var x=43*n[e]+1.5;l+='<path d="'+(0,u.default)({ox:100,oy:60,r:x,sRad:s,rad:a,oft:1})+'"\nfill="'+i[e%5]+'"\n></path>',l+='<path d="'+(0,u.default)({ox:100,oy:60,r:46,sRad:s,rad:a,oft:1})+'"\nfill="transparent"\nstroke="#fff" stroke-width="3"\n></path>';var h=s+a/2,p=3,v=1;180/Math.PI*h+90>180&&(p=-p,v=-v);var y=x/1.2,b=(0,r.default)(h,y>1.5?y:1.5,100,60),_=b.x,M=b.y,m=(0,r.default)(h,47.5,100,60),w=m.x,P=m.y,g=w+p,F=P;l+='<polyline points="'+_+","+M+" "+w+","+P+" "+g+","+F+'"\nfill="none"\nstroke="'+d[e%5]+'"\nstroke-width="0.5"\n></polyline>',c+='<text x="'+(g+v)+'" y="'+(F+3)+'" font-size="6.5" text-anchor="'+(p>0?"start":"end")+'" fill="'+d[e%5]+'">'+o[e]+"</text>",s+=a}),c+='<text x="100" y="63" font-size="6.5" text-anchor="middle" fill="#333" style="font-weight:bold;">'+a+"分</text>",document.querySelector(".chart-pie").innerHTML='<svg viewbox="0,0,200,120">'+l+c+"</svg>"}n(3);var f=n(0),r=o(f),i=n(4),u=o(i);window.transmitData=function(t){var e=[],n=[],o=[],f=0;t.forEach(function(t){var a=t.weight,r=t.score,i=t.dimension_name,u=a/100;e.push(u),n.push(r/100),o.push(i+":"+r+"分"),f+=r*u}),a({data:e,eachData:n,labels:o,tscore:f})}},function(t,e){},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.ox,n=t.oy,o=t.r,a=t.sRad,r=t.rad;t.oft;o<0&&(o=0);var u=(0,f.default)(a,o,e,n),d=u.x,s=u.y,l=(0,i.default)({sRad:a,rad:r,r:o,ox:e,oy:n});return"M"+e.toFixed(3)+" "+n.toFixed(3)+" L"+d.toFixed(3)+" "+s.toFixed(3)+" "+l+" Z"};var a=n(0),f=o(a),r=n(5),i=o(r)},function(t,e,n){"use strict";function o(t){var e=t.sRad,n=void 0===e?0:e,o=t.rad,a=t.r,r=void 0===a?50:a,i=t.ox,u=t.oy,d=n+o,s=(0,f.default)(d,r,i,u),l=s.x,c=s.y;return d===2*Math.PI&&(l-=.001),"A "+r+" "+r+", 0, "+(d-n>Math.PI?1:0)+", 1, "+l.toFixed(3)+" "+c.toFixed(3)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var a=n(0),f=function(t){return t&&t.__esModule?t:{default:t}}(a)},function(t,e,n){"use strict";transmitData([{dimension_id:"12",dimension_name:"教学目标",score:"60",weight:20},{dimension_id:"36",dimension_name:"教学行为",score:"-100",weight:40}])}]);</script></body></html>