<!DOCTYPE html>
<html>

<head>
    <title></title>

    <meta content="width=device-width,initial-scale=1.0,user-scalable=no" name="viewport" />

    <link rel="stylesheet" href="../../css/base.css">
    <link rel="stylesheet" href="main.css">
</head>

<body>
    <!-- 
        当 circle 背景因颜色厚重时，比如黑色，可将 stroke-width 减0.3，接近 path 的 stroke-width
    -->
    <div class="circle-progress">
        <div class="graph">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 60 60">
                <circle fill="rgba(0,0,0,0)" cx="30" cy="30" r="24" stroke-width="8" stroke="#ececec"/>
                <path fill="none" stroke="#fc4" stroke-linecap="round" stroke-width="8" d="M30 6 A 24 24, 0, 1, 1, 6.364 34.167"></path>
            </svg>
        </div>
        <div class="txt">
            <div class="center">
                <p class="t1"><b>10</b><span>/</span>40</p>
                <p class="t2">答题率</p>    
            </div>
            
        </div>
    </div>
    
    <script>
        var c={};c.easing={def:"easeOutQuad",swing:function(f,g,a,h,i){return c.easing[c.easing.def](f,g,a,h,i)},easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return -h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e},easeOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+e},easeInOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k/2)==2){return e+l}if(!j){j=k*(0.3*1.5)}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j)*0.5+l+e},easeInBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}};c.each=function(e,d){var b,a=e&&e.length;if(a===undefined){for(b in e){if(d(b,e[b])===false){break}}}else{for(b=0;b<a;b++){if(d(b,e[b],a)===false){break}}}};c.EasingBuild=function(h){var f=this,i={},g,e=null;function b(p,r){d();g=r.callback||function(){};var o=r.go,l=r.speed===undefined?400:r.speed,j=r.easing===undefined?"swing":r.easing,k={},s=0,m=16,q=l/m;c.each(p,function(t,u){if(i[t]===undefined){i[t]=0}k[t]=i[t]});n();function n(){var u={},t;if(s<q){s++;c.each(p,function(v,w){t=k[v];u[v]=c.easing[j](null,s,t,w-t,q);i[v]=u[v]});o(u);e=requestAnimationFrame(n,m)}else{o(p);c.each(p,function(v,w){i[v]=p[v]});e=null;g()}}}function a(k){for(var j in k){i[j]=k[j]}}function d(){if(e!==null){cancelAnimationFrame(e);e=null}}this.excu=b;this.setCurParams=a;this.stop=function(){d();g()};this.getCurParams=function(){return i}};

        var easing = new c.EasingBuild();

        var r =30-6,
            startX = 30,
            startY = 6,
            sPath = document.getElementsByTagName('path')[0];

        //easing.excu({
        //    a: 360
        //}, {
        //    go: function (v) {
        //        to(v.a);
        //    },
        //    speed: 600
        //});

        var v = 1;
        var stopId = setInterval(function () {
            v++;
            to(v);
            if (v >= 260) stop();
        }, 17);

        window.onclick = function () {

            stop();
        };

       function stop() {
           clearInterval(stopId);
       }

        function to(angle) {
            var x = Math.sin(radian(angle)) * r + startX;
            var y = r - Math.cos(radian(angle)) * r + startY;

            if (angle === 360) x -= 0.001;

            sPath.setAttribute('d', 'M' + startX + ' ' + startY + ' A ' + r + ' ' + r + ', 0, ' + (angle > 180 ? 1 : 0) + ', 1, ' + x + ' ' + y);
        }

        function radian(angle) {
            return angle * Math.PI / 180;
        }

    </script>
</body>

</html>
