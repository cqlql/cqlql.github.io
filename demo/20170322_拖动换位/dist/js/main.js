!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=9)}([function(e,t,n){"use strict";function i(e){var t=document.createElement("div");return t.innerHTML=e,t.children}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t){},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o=n(8),r=i(o),a=n(0),u=i(a),c=document.querySelector(".drag-box"),s=new r.default(c);c.addEventListener("click",function(e){e.target.classList.contains("del")&&s.delItem(e.target.parentElement.parentElement.dataset.index)}),add.addEventListener("click",function(){s.addItems((0,u.default)('\n    <div class="drag-item">\n        <div class="drag-item-cont">\n            <a href="javascript:console.log(\'可点击\');">text11111</a> <a class="del" title="删除" href="javascript:;">X</a>\n        </div>        \n    </div>\n    <div class="drag-item">\n        <div class="drag-item-cont">\n            <a href="javascript:console.log(\'可点击\');">text222222222222222</a> <a class="del" title="删除" href="javascript:;">X</a>       \n        </div>\n    </div>'))})},function(e,t,n){"use strict";function i(){var e=0;this.excu=function(t,n){e||(e=1,setTimeout(function(){t(),e=0},n))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";function i(e){var t=0,n=0;do t+=e.offsetTop,n+=e.offsetLeft,e=e.offsetParent;while(e);return{top:t,left:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";function i(e,t){function n(e,i){t(e,i)!==!1&&n(e.parentElement,e)}e=1===e.nodeType?e:e.parentElement,n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";function i(){this.start=function(e,t){this.prevX=e,this.prevY=t},this.move=function(e,t,n){n(e-this.prevX,t-this.prevY),this.prevX=e,this.prevY=t}}function o(e){function t(e){function t(e){i(e)}function n(){u(),document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)}r(e)!==!1&&(document.addEventListener("mousemove",t),document.addEventListener("mouseup",n))}var n=e.eDrag,i=e.onMove,o=e.onDown,r=void 0===o?function(){}:o,a=e.onUp,u=void 0===a?function(){}:a;n.addEventListener("mousedown",t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Figure=i,t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e){function t(t){var n=(t.eDrag,t.onDown),i=t.onStart,o=t.onMove,r=t.onUp,u=void 0,c=void 0,s=void 0,d=!1;(0,a.default)({eDrag:e,onMove:function(e){if(!d){var t=e.pageX-u,n=e.pageY-c;(Math.abs(t)>2||Math.abs(n)>2)&&(d=i(s)!==!1)}d&&o(e)},onDown:function(e){return n(e)!==!1&&(d=!1,u=e.pageX,c=e.pageY,void(s=e))},onUp:function(){d&&r()}})}function n(e,t,n,i,o){function r(e,t,n){if(e>t&&e<t+n)return!0}function a(e,t,n){return r(e,n.x,n.w)&&r(t,n.y,n.h)}var u=void 0;if(e)for(;t--;)u=f[t],a(n,i,u)&&o(t,u);else for(t++;t<m;t++)u=f[t],a(n,i,u)&&o(t,u)}function i(t){function n(e,t){var n=v[e.i];n.style.left=e.x+"px",n.style.top=e.y+"px",v[e.i].dataset.index=t}var i=f[t];void 0===i&&(t=0,i=f[t],i.x=i.y=0,n(i,0));for(var o=i.x+i.w,r=i.y,a=t+1;a<m;a++){var u=f[a];u.x=o,u.y=r;var c=u.x+u.w;c>h&&(u.x=0,r=u.y=u.y+u.h),o=u.x+u.w,n(u,a)}e.style.height=r+g+"px"}function o(){var t=e.children;m=t.length,m>0?(g=t[0].clientHeight,x.initNewItems(0,0,t)):(e.innerHTML='<div class="drag-item"><div class="drag-item-cont">-</div></div>',g=e.children[0].clientHeight,e.innerHTML=""),setTimeout(function(){e.classList.add("animate")},0)}this.getData=function(){return f},this.getItems=function(){return v},this.delItem=function(e){var t=f[e],n=t.i;v[n].remove(),v[n]=void 0,f.splice(e,1),m--,m&&i(e-1)},this.addItems=function(t){var n=[],i=document.createDocumentFragment(),o=v.length,r=t.length,a=function(e){return t[e]},u=t[0];i.appendChild(u),n[0]=u,t.length<r&&(a=function(){return t[0]});for(var c=1;c<r;c++){var s=a(c);i.appendChild(s),n[c]=s}e.appendChild(i),this.initNewItems(m,o,n),m+=r},this.initNewItems=function(t,n,i){var o=void 0,r=void 0;if(t){var a=f[t-1];o=a.w+a.x,r=a.y}else o=0,r=0;for(var u=t,c=n,s=0,d=i.length;s<d;s++){var l=i[s],p={x:o,y:r,w:l.offsetWidth,h:g,i:c},m=p.x+p.w;m>h&&(p.x=0,r=p.y=p.y+p.h),o=p.x+p.w,f[u]=p,v[c]=l,l.dataset.index=u,l.style.left=p.x+"px",l.style.top=p.y+"px",c++,u++}e.style.height=r+g+"px"};var u=new r.Figure,s=new r.Figure,f=[],v=[],m=0,g=0,h=e.clientWidth,x=this;o();var y=(0,c.default)(e),w=new p.default,M=void 0,L=void 0,_=void 0,b=void 0,E=void 0,j=void 0;t({eDrag:e,onDown:function(){if(0===m)return!1},onMove:function(e){u.move(e.pageX,e.pageY,function(e,t){_+=e,b+=t,L.style.left=_+"px",L.style.top=b+"px"}),w.excu(function(){var t=void 0;s.move(e.pageX,e.pageY,function(e,n){t=Math.atan(n/e)<-.2?n<0:e<0});var o=e.pageX-y.left,r=e.pageY-y.top;n(t,E,o,r,function(e,t){var n=void 0;E<e?(f.splice(e+1,0,j),f.splice(E,1),n=E-1):(f.splice(E,1),f.splice(e,0,j),n=e-1),i(n),E=e})},80),e.preventDefault()},onStart:function(t){var n=!1;return(0,d.default)(t.target,function(i){return i!==e&&(i.classList.contains("drag-item-cont")?(M=i.parentElement,E=1*M.dataset.index,j=f[E],_=j.x,b=j.y,L=(0,l.default)(M.outerHTML)[0],e.appendChild(L),L.classList.add("move"),M.classList.add("drag"),u.start(t.pageX,t.pageY),s.start(t.pageX,t.pageY),n=!0,!1):void 0)}),n},onUp:function(){M.classList.remove("drag"),L.remove()}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(7),a=i(r),u=n(5),c=i(u),s=n(6),d=i(s),f=n(0),l=i(f),v=n(4),p=i(v)},function(e,t,n){n(1),n(2),e.exports=n(3)}]);